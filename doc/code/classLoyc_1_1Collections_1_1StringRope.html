<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Enhanced C#: Loyc.Collections.StringRope Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Enhanced C#
   </div>
   <div id="projectbrief">Language of your choice: library documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLoyc.html">Loyc</a></li><li class="navelem"><a class="el" href="namespaceLoyc_1_1Collections.html">Collections</a></li><li class="navelem"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-attribs">Public static fields</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classLoyc_1_1Collections_1_1StringRope-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Loyc.Collections.StringRope Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An immutable rope of strings. This data structure acts much the same as a single string, but supports concatenation in constant time. 
 <a href="classLoyc_1_1Collections_1_1StringRope.html#details">More...</a></p>
<hr/><b>Source file</b>:<ul>
<li><a href='https://github.com/qwertie/ecsharp/tree/master/Core/Loyc.Collections/Other/Rope.cs'>/Core/Loyc.Collections/Other/Rope.cs</a></li>
</ul>
<div class="dynheader">
Inheritance diagram for Loyc.Collections.StringRope:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classLoyc_1_1Collections_1_1StringRope.png" usemap="#Loyc.Collections.StringRope_map" alt=""/>
  <map id="Loyc.Collections.StringRope_map" name="Loyc.Collections.StringRope_map">
<area href="interfaceLoyc_1_1Collections_1_1ICharSource.html" title="A read-only list of characters plus a Slice(int,int) method." alt="Loyc.Collections.ICharSource" shape="rect" coords="236,112,462,136"/>
<area href="interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4.html" title="A read-only list indexed by an integer." alt="Loyc.Collections.IListSource&lt; out T &gt;" shape="rect" coords="236,56,462,80"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Remarks</h2>
<div class="textblock"><p>An immutable rope of strings. This data structure acts much the same as a single string, but supports concatenation in constant time.</p>
<p>Since ropes are used to construct large strings, <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html" title="An immutable rope of strings. This data structure acts much the same as a single string, but supports concatenation in constant time.">StringRope</a> assumes that you don't want to use too much memory to store the string. Therefore, concatenating short ropes produces an "atomic" rope with only one piece (see <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#a3c3a27d7f52801e23021094f18a57af1" title="Gets or sets the threshold for concatenating strings rather than combining them in a rope...">ConcatThreshold</a>), allowing the original rope objects to be garbage-collected. </p>
<p>Caution: while the Count (aka Length) property is trivial (fast), the indexer of this class is slower; it typically takes O(log N) time time to retrieve individual characters. If you want to scan all the characters in a rope, be sure to convert the rope to a string first. </p>
<p>The original paper about ropes is here: <a href="http://citeseer.ist.psu.edu/viewdoc/download?doi=10.1.1.14.9450&rep=rep1&type=pdf">http://citeseer.ist.psu.edu/viewdoc/download?doi=10.1.1.14.9450&amp;rep=rep1&amp;type=pdf</a> </p>
<p>This rope implementation uses only a single kind of node with no separation between "leaf" and "internal" nodes. Therefore, each node has a left child, a string, and a right child. I felt this would allow the implementation to be simple and perhaps run faster than a multi-type implementation, but I do not have time to investigate whether that's true. </p>
<p>There is a design tradeoff between performance and generality: if a string is stored in this node as type <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html" title="A read-only list of characters plus a Slice(int,int) method.">ICharSource</a> then it can represent any source of characters, such as an open file (StreamCharSource) . On the other hand, if we store <a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange{T} of 21-bit UC...">UString</a> instead (which is the most common implementation of <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html" title="A read-only list of characters plus a Slice(int,int) method.">ICharSource</a>), it won't have to be boxed and we can avoid costly interface calls when accessing it. Since this class is planned to be used for printing data structures to strings (e.g. JSON or <a class="el" href="namespaceLoyc.html" title="Main Loyc namespace. This namespace includes all general-purpose code in the Loyc megaproject...">Loyc</a> trees), there is no need for generality, so the higher-performance choice was made to use <a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange{T} of 21-bit UC...">UString</a> as the data type for a single string in the rope. Of course, a simple String would have even higher performance if all the components are simple strings, but using <a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange{T} of 21-bit UC...">UString</a> is better if some of the components of the rope are string slices. </p>
<p>There is also a tradeoff between balancing the tree and doing "append" operations quickly. If <em>all</em> you want to do is append operations then you should be using StringBuilder I've decided to keep the rope "somewhat" balanced during concatenations.</p>
<p>meaning that the concatenator is fairly fast</p>
<p>Instead of calling the constructor, it is recommended to use a cast to convert strings to ropes, so that if the string is "", StringRope.Empty is returned rather than allocating a new rope. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Public static fields</h2></td></tr>
<tr class="memitem:a1c401b649648799e48b954220acbe39a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c401b649648799e48b954220acbe39a"></a>
static readonly <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Empty</b> = Empty_init()</td></tr>
<tr class="separator:a1c401b649648799e48b954220acbe39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a3c3a27d7f52801e23021094f18a57af1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#a3c3a27d7f52801e23021094f18a57af1">ConcatThreshold</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a3c3a27d7f52801e23021094f18a57af1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets or sets the threshold for concatenating strings rather than combining them in a rope. When concatenating two ropes whose combined length is less than this threshold, the strings themselves are concatenated to produce a rope with only a single element. <a href="#a3c3a27d7f52801e23021094f18a57af1">More...</a><br /></td></tr>
<tr class="separator:a3c3a27d7f52801e23021094f18a57af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f028510e995ae3db07adfa4712341b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92f028510e995ae3db07adfa4712341b"></a>
new char&#160;</td><td class="memItemRight" valign="bottom"><b>this[int index]</b><code> [get]</code></td></tr>
<tr class="separator:a92f028510e995ae3db07adfa4712341b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3251613b34cb2e5fb4d1edd2bfe07914"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3251613b34cb2e5fb4d1edd2bfe07914"></a>
sealed override int&#160;</td><td class="memItemRight" valign="bottom"><b>Count</b><code> [get]</code></td></tr>
<tr class="separator:a3251613b34cb2e5fb4d1edd2bfe07914"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9ff2bd9d1bbe3bdf9dd173fd3dade008"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ff2bd9d1bbe3bdf9dd173fd3dade008"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>StringRope</b> (string str)</td></tr>
<tr class="separator:a9ff2bd9d1bbe3bdf9dd173fd3dade008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3fe4f8a1a7b08a2f0f2ffad7e920bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a3fe4f8a1a7b08a2f0f2ffad7e920bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>StringRope</b> (<a class="el" href="structLoyc_1_1UString.html">UString</a> str)</td></tr>
<tr class="separator:a9a3fe4f8a1a7b08a2f0f2ffad7e920bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e63dab85e3a38bd9d701d4e43f2b09"><td class="memItemLeft" align="right" valign="top">sealed override char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#aa5e63dab85e3a38bd9d701d4e43f2b09">TryGet</a> (int index, out bool fail)</td></tr>
<tr class="memdesc:aa5e63dab85e3a38bd9d701d4e43f2b09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the item at the specified index, and does not throw an exception on failure. <a href="#aa5e63dab85e3a38bd9d701d4e43f2b09">More...</a><br /></td></tr>
<tr class="separator:aa5e63dab85e3a38bd9d701d4e43f2b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2e96bcd7e22135f6845f56e1dca048"><td class="memItemLeft" align="right" valign="top">new <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html">StringSlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#a6e2e96bcd7e22135f6845f56e1dca048">Slice</a> (int startIndex, int length)</td></tr>
<tr class="memdesc:a6e2e96bcd7e22135f6845f56e1dca048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a substring from the character source. If some of the requested characters are past the end of the stream, the string is truncated to the available number of characters.  <a href="#a6e2e96bcd7e22135f6845f56e1dca048">More...</a><br /></td></tr>
<tr class="separator:a6e2e96bcd7e22135f6845f56e1dca048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e041da9d21d6b9f713d8498cf84ebb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLoyc_1_1Pair.html">Pair</a>&lt; <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>, <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#ab9e041da9d21d6b9f713d8498cf84ebb">Split</a> (int index)</td></tr>
<tr class="memdesc:ab9e041da9d21d6b9f713d8498cf84ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits a rope into two parts, returned as a pair. <a href="#ab9e041da9d21d6b9f713d8498cf84ebb">More...</a><br /></td></tr>
<tr class="separator:ab9e041da9d21d6b9f713d8498cf84ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ba462a8001896a3b59ab6817888931b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#a6ba462a8001896a3b59ab6817888931b">Subrope</a> (int startIndex, int length) public <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> Subrope(int startIndex</td></tr>
<tr class="memdesc:a6ba462a8001896a3b59ab6817888931b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a rope from part of another rope (the "split" operation from the original paper about ropes). <a href="#a6ba462a8001896a3b59ab6817888931b">More...</a><br /></td></tr>
<tr class="separator:a6ba462a8001896a3b59ab6817888931b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02307bb128a060792659fc3c3153392"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac02307bb128a060792659fc3c3153392"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>Equals</b> (<a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> other)</td></tr>
<tr class="separator:ac02307bb128a060792659fc3c3153392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6054722177f817bbdb942ba612b6ae9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6054722177f817bbdb942ba612b6ae9b"></a>
override string&#160;</td><td class="memItemRight" valign="bottom"><b>ToString</b> ()</td></tr>
<tr class="separator:a6054722177f817bbdb942ba612b6ae9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aab3cfc854c76997679aaa2ff15e648a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab3cfc854c76997679aaa2ff15e648a3"></a>
static implicit&#160;</td><td class="memItemRight" valign="bottom"><b>operator StringRope</b> (string str)</td></tr>
<tr class="separator:aab3cfc854c76997679aaa2ff15e648a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362c4e5542584b26977e308d86d70fa5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a362c4e5542584b26977e308d86d70fa5"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>operator string</b> (<a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> str)</td></tr>
<tr class="separator:a362c4e5542584b26977e308d86d70fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77169d8251b82249d32bd3355f6b6b9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae77169d8251b82249d32bd3355f6b6b9"></a>
static implicit&#160;</td><td class="memItemRight" valign="bottom"><b>operator StringRope</b> (<a class="el" href="structLoyc_1_1UString.html">UString</a> str)</td></tr>
<tr class="separator:ae77169d8251b82249d32bd3355f6b6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56cce2d4f98ce127f23c598b72dd5f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af56cce2d4f98ce127f23c598b72dd5f0"></a>
static&#160;</td><td class="memItemRight" valign="bottom"><b>operator UString</b> (<a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> rope)</td></tr>
<tr class="separator:af56cce2d4f98ce127f23c598b72dd5f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54472ca87086daefc84fadde4f896716"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54472ca87086daefc84fadde4f896716"></a>
static <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Concat</b> (<a class="el" href="structLoyc_1_1UString.html">UString</a> a, <a class="el" href="structLoyc_1_1UString.html">UString</a> b)</td></tr>
<tr class="separator:a54472ca87086daefc84fadde4f896716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff12c24173775e255c3429748888b24"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abff12c24173775e255c3429748888b24"></a>
static <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator+</b> (<a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> a, string b)</td></tr>
<tr class="separator:abff12c24173775e255c3429748888b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9b88c0273c6833d4b0e1cfbaf140d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae9b88c0273c6833d4b0e1cfbaf140d2"></a>
static <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator+</b> (<a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> x, <a class="el" href="structLoyc_1_1UString.html">UString</a> y)</td></tr>
<tr class="separator:aae9b88c0273c6833d4b0e1cfbaf140d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c196708aafccf653e89c96c56c2d14f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c196708aafccf653e89c96c56c2d14f"></a>
static StringBuilder&#160;</td><td class="memItemRight" valign="bottom"><b>Append</b> (StringBuilder sb, <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> rope)</td></tr>
<tr class="separator:a3c196708aafccf653e89c96c56c2d14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6e2e96bcd7e22135f6845f56e1dca048"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">new <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html">StringSlice</a> Loyc.Collections.StringRope.Slice </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a substring from the character source. If some of the requested characters are past the end of the stream, the string is truncated to the available number of characters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startIndex</td><td>Index of first character to return. If startIndex &gt;= Count, an empty string is returned.</td></tr>
    <tr><td class="paramname">length</td><td>Number of characters desired.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentException</td><td>Thrown if startIndex or length are negative.</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a6015c7a99af81fe0de9fcc67e43a2768">Loyc.Collections.ICharSource</a>.</p>

</div>
</div>
<a class="anchor" id="ab9e041da9d21d6b9f713d8498cf84ebb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLoyc_1_1Pair.html">Pair</a>&lt;<a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>, <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a>&gt; Loyc.Collections.StringRope.Split </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Splits a rope into two parts, returned as a pair.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentOutOfRangeException</td><td>The index was negative.</td></tr>
  </table>
  </dd>
</dl>
<p>If index &gt;= Count, the right-hand result will be empty and the left-hand result will be <code>this</code>.</p>

</div>
</div>
<a class="anchor" id="a6ba462a8001896a3b59ab6817888931b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLoyc_1_1Collections_1_1StringRope.html">StringRope</a> Loyc.Collections.StringRope.Subrope </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a rope from part of another rope (the "split" operation from the original paper about ropes).</p>

</div>
</div>
<a class="anchor" id="aa5e63dab85e3a38bd9d701d4e43f2b09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sealed override char Loyc.Collections.StringRope.TryGet </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>fail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the item at the specified index, and does not throw an exception on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>An index in the range 0 to Count-1.</td></tr>
    <tr><td class="paramname">fail</td><td>A flag that is set on failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The element at the specified index, or default(T) if the index is not valid.</dd></dl>
<p>In my original design, the caller could provide a value to return on failure, but this would not allow T to be marked as "out" in C# 4. For the same reason, we cannot have a ref/out T parameter. Instead, the following extension methods are provided: </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code" href="classLoyc_1_1Collections_1_1StringRope.html#aa5e63dab85e3a38bd9d701d4e43f2b09">TryGet</a>(<span class="keywordtype">int</span> index, ref T value);</div>
<div class="line">T <a class="code" href="classLoyc_1_1Collections_1_1StringRope.html#aa5e63dab85e3a38bd9d701d4e43f2b09">TryGet</a>(<span class="keywordtype">int</span>, T defaultValue);</div>
</div><!-- fragment --> 
<p>Implements <a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4.html#a8e7cf6ebac5f60e3eefbd1a75bcad672">Loyc.Collections.IListSource&lt; out T &gt;</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a3c3a27d7f52801e23021094f18a57af1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Loyc.Collections.StringRope.ConcatThreshold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets or sets the threshold for concatenating strings rather than combining them in a rope. When concatenating two ropes whose combined length is less than this threshold, the strings themselves are concatenated to produce a rope with only a single element.</p>
<p>Changing this property affects rope concatenations in the future, not concatenations that have already been completed. </p>
<p>This threshold does not affect the <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#ab9e041da9d21d6b9f713d8498cf84ebb" title="Splits a rope into two parts, returned as a pair.">Split</a> and <a class="el" href="classLoyc_1_1Collections_1_1StringRope.html#a6ba462a8001896a3b59ab6817888931b" title="Constructs a rope from part of another rope (the &quot;split&quot; operation from the original paper about rope...">Subrope</a> operations. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 17 2016 01:22:51 for Enhanced C# by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
